{"ast":null,"code":"import React,{useState}from'react';import{updateTask}from\"./http/table\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Boards=_ref=>{let{boards,setBoards,handleTaskDrop,removeTask,moveTaskOnClick}=_ref;const[currentTask,setCurrentTask]=useState(null);const[currentBoard,setCurrentBoard]=useState(null);function handleDragStart(board,task){setCurrentTask(task);setCurrentBoard(board);}function handleDragEnd(e){}function handleDragLeave(e){e.target.style.background='white';}function handleDragOver(e){e.preventDefault();e.target.style.background='lightgrey';}function handleDrop(e,board,task){e.preventDefault();e.target.style.background='white';const currentDropIndex=board.list.indexOf(task);updateTask(task.id,{boardInd:boards.indexOf(board),position:currentDropIndex+1});board.list.splice(currentDropIndex+1,0,currentTask);const currentTaskIndex=currentBoard.list.indexOf(currentTask);currentBoard.list.splice(currentTaskIndex,1);handleTaskDrop(currentBoard,board);}function handleBoardDrop(e,board){e.preventDefault();e.target.style.background='white';updateTask(currentTask.id,{boardInd:boards.indexOf(board),position:0});board.list.push(currentTask);const currentTaskIndex=currentBoard.list.indexOf(currentTask);currentBoard.list.splice(currentTaskIndex,1);handleTaskDrop(currentBoard,board);}return/*#__PURE__*/_jsx(\"div\",{className:\"boards\",children:boards.map(board=>/*#__PURE__*/_jsx(\"div\",{className:\"boards__elem\",onDragLeave:e=>e.target.style.background='white',onDragOver:e=>handleDragOver(e),onDrop:e=>handleBoardDrop(e,board),draggable:true,children:board.list.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"boards__task\",onDragStart:e=>handleDragStart(board,task),onDragEnd:e=>handleDragEnd(e),onDragLeave:e=>handleDragLeave(e),onDragOver:e=>handleDragOver(e),onDrop:e=>handleDrop(e,board,task),draggable:true,onDoubleClick:()=>removeTask(board,task),children:[boards.indexOf(board)>0?/*#__PURE__*/_jsx(\"svg\",{onClick:()=>moveTaskOnClick(board,task,-1),xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left boards__arow\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"boards__tt\",onDragStart:e=>handleDragStart(board,task),onDragEnd:e=>handleDragEnd(e),onDragLeave:e=>handleDragLeave(e),onDragOver:e=>handleDragOver(e),onDrop:e=>handleDrop(e,board,task),draggable:true,onDoubleClick:()=>removeTask(board,task),children:task.body},task.id),boards.indexOf(board)<2?/*#__PURE__*/_jsx(\"svg\",{onClick:()=>moveTaskOnClick(board,task,1),xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-right boards__arow\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"})}):null]},task.id))},board.id))});};export default Boards;","map":{"version":3,"names":["React","useState","updateTask","jsx","_jsx","jsxs","_jsxs","Boards","_ref","boards","setBoards","handleTaskDrop","removeTask","moveTaskOnClick","currentTask","setCurrentTask","currentBoard","setCurrentBoard","handleDragStart","board","task","handleDragEnd","e","handleDragLeave","target","style","background","handleDragOver","preventDefault","handleDrop","currentDropIndex","list","indexOf","id","boardInd","position","splice","currentTaskIndex","handleBoardDrop","push","className","children","map","onDragLeave","onDragOver","onDrop","draggable","onDragStart","onDragEnd","onDoubleClick","onClick","xmlns","width","height","fill","viewBox","d","body"],"sources":["E:/code/lrmorosin/src/Boards.jsx"],"sourcesContent":["import React,{useState} from 'react';\r\nimport {updateTask} from \"./http/table\";\r\n\r\nconst Boards = ({boards,setBoards,handleTaskDrop,removeTask,moveTaskOnClick}) => {\r\n    const [currentTask,setCurrentTask] = useState(null)\r\n    const [currentBoard,setCurrentBoard] = useState(null)\r\n    function handleDragStart(board, task) {\r\n        setCurrentTask(task)\r\n        setCurrentBoard(board)\r\n    }\r\n\r\n    function handleDragEnd(e) {\r\n    }\r\n\r\n    function handleDragLeave(e) {\r\n        e.target.style.background = 'white'\r\n    }\r\n\r\n    function handleDragOver(e) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'lightgrey'\r\n    }\r\n\r\n    function handleDrop(e, board, task) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'white'\r\n        const currentDropIndex = board.list.indexOf(task)\r\n        updateTask(task.id,{boardInd:boards.indexOf(board),position:currentDropIndex+1})\r\n        board.list.splice(currentDropIndex+1,0,currentTask)\r\n        const currentTaskIndex = currentBoard.list.indexOf(currentTask)\r\n        currentBoard.list.splice(currentTaskIndex,1)\r\n        handleTaskDrop(currentBoard,board)\r\n    }\r\n    function handleBoardDrop(e,board) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'white'\r\n        updateTask(currentTask.id,{boardInd:boards.indexOf(board),position:0})\r\n        board.list.push(currentTask)\r\n        const currentTaskIndex = currentBoard.list.indexOf(currentTask)\r\n        currentBoard.list.splice(currentTaskIndex,1)\r\n        handleTaskDrop(currentBoard,board)\r\n    }\r\n\r\n    return (\r\n        <div className='boards'>\r\n            {boards.map(board=>\r\n            <div className='boards__elem' key={board.id}\r\n                 onDragLeave={(e)=>e.target.style.background = 'white'}\r\n                 onDragOver={(e)=>handleDragOver(e)}\r\n                 onDrop={(e)=>handleBoardDrop(e,board)}\r\n                 draggable={true}>\r\n                {board.list.map(task=>\r\n                <div className='boards__task' key={task.id}\r\n                     onDragStart={(e)=>handleDragStart(board,task)}\r\n                     onDragEnd={(e)=>handleDragEnd(e)}\r\n                     onDragLeave={(e)=>handleDragLeave(e)}\r\n                     onDragOver={(e)=>handleDragOver(e)}\r\n                     onDrop={(e)=>handleDrop(e,board,task)}\r\n                     draggable={true}\r\n                    onDoubleClick ={()=>removeTask(board,task)}>\r\n                    {boards.indexOf(board)>0 ?\r\n                        <svg  onClick={()=>moveTaskOnClick(board,task,-1)} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                             className=\"bi bi-arrow-left boards__arow\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                  d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\r\n                        </svg>\r\n                    : null}\r\n                    <div className='boards__tt' key={task.id}\r\n                         onDragStart={(e)=>handleDragStart(board,task)}\r\n                         onDragEnd={(e)=>handleDragEnd(e)}\r\n                         onDragLeave={(e)=>handleDragLeave(e)}\r\n                         onDragOver={(e)=>handleDragOver(e)}\r\n                         onDrop={(e)=>handleDrop(e,board,task)}\r\n                         draggable={true}\r\n                         onDoubleClick ={()=>removeTask(board,task)}>\r\n                    {task.body}\r\n                    </div>\r\n                    {boards.indexOf(board)<2 ?\r\n                        <svg onClick={()=>moveTaskOnClick(board,task,1)} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                             className=\"bi bi-arrow-right boards__arow\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                  d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\r\n                        </svg>\r\n                        : null}\r\n                </div>)}\r\n            </div>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Boards;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}