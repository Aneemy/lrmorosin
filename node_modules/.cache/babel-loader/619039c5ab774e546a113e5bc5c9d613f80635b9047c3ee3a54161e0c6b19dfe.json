{"ast":null,"code":"var _jsxFileName = \"E:\\\\code\\\\lrmorosin\\\\src\\\\Tasks.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { updateTask } from \"./http/tasks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tasks = ({\n  boards,\n  setBoards,\n  handleTaskDrop,\n  removeTask,\n  moveTaskOnClick\n}) => {\n  _s();\n  const [currentTask, setCurrentTask] = useState(null);\n  const [currentBoard, setCurrentBoard] = useState(null);\n  function handleDragStart(board, task) {\n    setCurrentTask(task);\n    setCurrentBoard(board);\n  }\n  function handleDragEnd(e) {}\n  function handleDragLeave(e) {\n    e.target.style.background = 'white';\n  }\n  function handleDragOver(e) {\n    e.preventDefault();\n    e.target.style.background = 'lightgrey';\n  }\n  function handleDrop(e, board, task) {\n    console.log('dropped');\n    e.stopPropagation();\n    e.preventDefault();\n    e.target.style.background = 'white';\n    const currentDropIndex = board.list.indexOf(task);\n    const boardInd = boards.indexOf(board);\n    updateTask(currentTask.id, {\n      boardInd: boardInd,\n      position: currentDropIndex + 1\n    });\n    board.list.splice(currentDropIndex + 1, 0, currentTask);\n    const currentTaskIndex = currentBoard.list.indexOf(currentTask);\n    currentBoard.list.splice(currentTaskIndex, 1);\n    handleTaskDrop(currentBoard, board);\n  }\n  function handleBoardDrop(e, board) {\n    e.preventDefault();\n    e.target.style.background = 'white';\n    updateTask(currentTask.id, {\n      boardInd: boards.indexOf(board),\n      position: 0\n    });\n    board.list.push(currentTask);\n    const currentTaskIndex = currentBoard.list.indexOf(currentTask);\n    currentBoard.list.splice(currentTaskIndex, 1);\n    handleTaskDrop(currentBoard, board);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"boards\",\n    children: boards.map(board => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boards__elem\",\n      onDragLeave: e => e.target.style.background = 'white',\n      onDragOver: e => handleDragOver(e),\n      onDrop: e => handleBoardDrop(e, board),\n      draggable: true,\n      children: [board.title, board.list.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boards__task\",\n        onDragStart: e => handleDragStart(board, task),\n        onDragEnd: e => handleDragEnd(e),\n        onDragLeave: e => handleDragLeave(e),\n        onDragOver: e => handleDragOver(e),\n        onDrop: e => handleDrop(e, board, task),\n        draggable: true,\n        onDoubleClick: () => removeTask(board, task),\n        children: [boards.indexOf(board) > 0 ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          onClick: () => moveTaskOnClick(board, task, -1),\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          className: \"bi bi-arrow-left boards__arow\",\n          viewBox: \"0 0 16 16\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"boards__tt\",\n          onDragStart: e => handleDragStart(board, task),\n          onDragEnd: e => handleDragEnd(e),\n          onDragLeave: e => handleDragLeave(e),\n          onDragOver: e => handleDragOver(e),\n          onDrop: e => handleDrop(e, board, task),\n          draggable: true,\n          children: task.body\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), boards.indexOf(board) < 2 ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          onClick: () => moveTaskOnClick(board, task, 1),\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          className: \"bi bi-arrow-right boards__arow\",\n          viewBox: \"0 0 16 16\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            \"fill-rule\": \"evenodd\",\n            d: \"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this) : null]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this))]\n    }, board.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(Tasks, \"/Ohv10y4wRtyeqr9htqWK5BJp6M=\");\n_c = Tasks;\nexport default Tasks;\nvar _c;\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"names":["React","useState","updateTask","jsxDEV","_jsxDEV","Tasks","boards","setBoards","handleTaskDrop","removeTask","moveTaskOnClick","_s","currentTask","setCurrentTask","currentBoard","setCurrentBoard","handleDragStart","board","task","handleDragEnd","e","handleDragLeave","target","style","background","handleDragOver","preventDefault","handleDrop","console","log","stopPropagation","currentDropIndex","list","indexOf","boardInd","id","position","splice","currentTaskIndex","handleBoardDrop","push","className","children","map","onDragLeave","onDragOver","onDrop","draggable","title","onDragStart","onDragEnd","onDoubleClick","onClick","xmlns","width","height","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","body","_c","$RefreshReg$"],"sources":["E:/code/lrmorosin/src/Tasks.jsx"],"sourcesContent":["import React,{useState} from 'react';\r\nimport {updateTask} from \"./http/tasks\";\r\n\r\nconst Tasks = ({boards,setBoards,handleTaskDrop,removeTask,moveTaskOnClick}) => {\r\n    const [currentTask,setCurrentTask] = useState(null)\r\n    const [currentBoard,setCurrentBoard] = useState(null)\r\n    function handleDragStart(board, task) {\r\n        setCurrentTask(task)\r\n        setCurrentBoard(board)\r\n    }\r\n\r\n    function handleDragEnd(e) {\r\n    }\r\n\r\n    function handleDragLeave(e) {\r\n        e.target.style.background = 'white'\r\n    }\r\n\r\n    function handleDragOver(e) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'lightgrey'\r\n    }\r\n\r\n    function handleDrop(e, board, task) {\r\n        console.log('dropped')\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        e.target.style.background = 'white'\r\n        const currentDropIndex = board.list.indexOf(task)\r\n        const boardInd = boards.indexOf(board)\r\n        updateTask(currentTask.id,{boardInd:boardInd,position:currentDropIndex+1})\r\n        board.list.splice(currentDropIndex+1,0,currentTask)\r\n        const currentTaskIndex = currentBoard.list.indexOf(currentTask)\r\n        currentBoard.list.splice(currentTaskIndex,1)\r\n        handleTaskDrop(currentBoard,board)\r\n    }\r\n    function handleBoardDrop(e,board) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'white'\r\n        updateTask(currentTask.id,{boardInd:boards.indexOf(board),position:0})\r\n        board.list.push(currentTask)\r\n        const currentTaskIndex = currentBoard.list.indexOf(currentTask)\r\n        currentBoard.list.splice(currentTaskIndex,1)\r\n        handleTaskDrop(currentBoard,board)\r\n    }\r\n\r\n    return (\r\n        <div className='boards'>\r\n            {boards.map(board=>\r\n            <div className='boards__elem' key={board.id}\r\n                 onDragLeave={(e)=>e.target.style.background = 'white'}\r\n                 onDragOver={(e)=>handleDragOver(e)}\r\n                 onDrop={(e)=>handleBoardDrop(e,board)}\r\n                 draggable={true}>\r\n                {board.title}\r\n                {board.list.map(task=>\r\n                <div className='boards__task' key={task.id}\r\n                     onDragStart={(e)=>handleDragStart(board,task)}\r\n                     onDragEnd={(e)=>handleDragEnd(e)}\r\n                     onDragLeave={(e)=>handleDragLeave(e)}\r\n                     onDragOver={(e)=>handleDragOver(e)}\r\n                     onDrop={(e)=>handleDrop(e,board,task)}\r\n                     draggable={true}\r\n                     onDoubleClick ={()=>removeTask(board,task)}>\r\n                    {boards.indexOf(board)>0 ?\r\n                        <svg  onClick={()=>moveTaskOnClick(board,task,-1)} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                             className=\"bi bi-arrow-left boards__arow\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                  d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\r\n                        </svg>\r\n                    : null}\r\n                    <div className='boards__tt' key={task.id}\r\n                         onDragStart={(e)=>handleDragStart(board,task)}\r\n                         onDragEnd={(e)=>handleDragEnd(e)}\r\n                         onDragLeave={(e)=>handleDragLeave(e)}\r\n                         onDragOver={(e)=>handleDragOver(e)}\r\n                         onDrop={(e)=>handleDrop(e,board,task)}\r\n                         draggable={true}>\r\n                    {task.body}\r\n                    </div>\r\n                    {boards.indexOf(board)<2 ?\r\n                        <svg onClick={()=>moveTaskOnClick(board,task,1)} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                             className=\"bi bi-arrow-right boards__arow\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\"\r\n                                  d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\r\n                        </svg>\r\n                        : null}\r\n                </div>)}\r\n            </div>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Tasks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}